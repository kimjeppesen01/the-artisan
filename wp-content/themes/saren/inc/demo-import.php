<?php

function ocdi_import_files()
{
  return array(
    array(
      'import_file_name' => 'Furniture',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/furniture_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/furniture_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/furniture_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/furniture',
    ),
    array(
      'import_file_name' => 'Fashion',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/fashion_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/fashion_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/fashionscreenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Electronics',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/electronics_all.xml',
      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/electronics_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/electronics_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/electronics',
      'slider_files' => array(
        'https://themes.pethemes.com/saren/demos/revsliders/electronics-hero.zip',
      ),
    ),
    array(
      'import_file_name' => 'Packaging',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/packaging_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/packaging_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/packaging_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Glasses',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/glasses_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/glasses_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/glasses_screenshot.png',
      'preview_url' => 'https://saren.pethemes.com/glasses',
    ),
    array(
      'import_file_name' => 'Fashion 2',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/fashion-2_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/fashion-2_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/fashion-2_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Single Product',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/single_product_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/single_product_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/single_product_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Cosmetic 2',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/cosmetic-2_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/cosmetic-2_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/cosmetic-2_screenshot.png',
      'preview_url' => 'https://saren.pethemes.com/cosmetic-2',
    ),
    array(
      'import_file_name' => 'Printing',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/printing_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/printing_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/printing_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Fashion 3',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/fashion_3_all.xml',
      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/fashion_3_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/fashion-3_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/fashion-3',
      'slider_files' => array(
        'https://themes.pethemes.com/saren/demos/revsliders/fashion-3-hero.zip',
      ),
    ),
    array(
      'import_file_name' => 'Cosmetic',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/cosmetic_all.xml',
      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/cosmetic_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),
      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/cosmetic_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
      'slider_files' => array(
        'https://themes.pethemes.com/saren/demos/revsliders/cosmetic-hero-slider.zip',
      ),
    ),
    array(
      'import_file_name' => 'Furniture 2',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/furniture-2_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/furniture-2_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/furniture-2_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Household',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/household_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/household_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/household_screenshot.png',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Watchstore (EN)',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/watchstore_all_en.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/watchstore_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/watchstore_screenshot.png',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Jewelry',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/jewelry_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/jewelry_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/jewelry_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Shoestore',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/shoestore_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/shoestore_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/shoestore_screenshot.png',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Electronics - 2',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/electronics-2_all.xml',
      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/electronics-2_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/electronics-2_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/electronics-2',
      'slider_files' => array(
        'https://themes.pethemes.com/saren/demos/revsliders/electronics-2-hero.zip',
      ),
    ),
    array(
      'import_file_name' => 'Digital Services',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/digital_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/digital_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/digital_services_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
    ),
    array(
      'import_file_name' => 'Landing',
      'import_file_url' => 'https://themes.pethemes.com/saren/demos/landing_all.xml',

      'import_redux' => array(
        array(
          'file_url' => 'https://themes.pethemes.com/saren/demos/landing_redux.json',
          'option_name' => 'pe-redux',
        ),
      ),

      'import_preview_image_url' => 'https://themes.pethemes.com/saren/demos/landing_screenshot.jpg',
      'preview_url' => 'https://saren.pethemes.com/',
    ),

  );
}
add_filter('pt-ocdi/import_files', 'ocdi_import_files');

function ocdi_after_import_setup($selected_import)
{
  // Assign menus to their locations.
  $main_menu = get_term_by('name', 'Main Menu', 'nav_menu');

  set_theme_mod(
    'nav_menu_locations',
    array(
      'menu-1' => $main_menu->term_id, // replace 'main-menu' here with the menu location identifier from register_nav_menu() function
    )
  );

  // Assign front page and posts page (blog page).
  $front_page_id = get_page_by_title('Homepage');
  //    $blog_page_id  = get_page_by_title( 'Journal' );

  update_option('show_on_front', 'page');
  update_option('page_on_front', $front_page_id->ID);
  //    update_option( 'page_for_posts', $blog_page_id->ID );

  // Slider Revolution import
  if (class_exists('RevSlider')) {
    $slider = new RevSlider();
    if (isset($selected_import['slider_files']) && !empty($selected_import['slider_files'])) {
      foreach ($selected_import['slider_files'] as $slider_file_url) {
        $slider_file = download_url($slider_file_url);
        if (!is_wp_error($slider_file)) {
          try {
            $slider->importSliderFromPost(true, true, $slider_file);
            unlink($slider_file); // Geçici dosyayı temizle
          } catch (Exception $e) {
            error_log('Slider Import Error: ' . $e->getMessage());
          }
        } else {
          error_log('Slider Download Error: ' . $slider_file->get_error_message());
        }
      }
    }
  }


}
add_action('pt-ocdi/after_import', 'ocdi_after_import_setup');


add_filter('pt-ocdi/disable_pt_branding', '__return_true');

function ocdi_plugin_intro_text($default_text)
{

  $isActivated = get_option('is_activated');

  if (!$isActivated) {

    $default_text .= '<div class="saren-settings-disabled"></div>
<div class="nsd-warn"><h4>You need to activate the theme with your purchase code to gain access to one click demo importer.</h4></div>';

    return $default_text;
  }

}

add_filter('ocdi/plugin_intro_text', 'ocdi_plugin_intro_text');